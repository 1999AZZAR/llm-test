export function generateInstructionsHTML(baseUrl) {
  return `<!DOCTYPE html>
  <html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azzar AI Chat Widget</title>
    <style>
      body {
        font-family: 'Roboto', Arial, sans-serif;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
        color: #333;
        max-width: 800px;
        margin: 0 auto;
      }
      h1 {
        color: #6200ee;
      }
      code {
        background: #f5f5f5;
        padding: 2px 5px;
        border-radius: 4px;
        font-family: monospace;
      }
      pre {
        background: #f5f5f5;
        padding: 15px;
        border-radius: 4px;
        overflow-x: auto;
      }
      .container {
        margin: 40px 0;
      }
      .lang-switcher {
        margin: 20px 0 30px 0;
        display: flex;
        gap: 10px;
        align-items: center;
      }
      .lang-btn {
        background: #fff;
        color: #6200ee;
        border: 1px solid #6200ee;
        border-radius: 4px;
        padding: 6px 16px;
        font-size: 15px;
        cursor: pointer;
        transition: background 0.2s, color 0.2s;
      }
      .lang-btn.active, .lang-btn:hover {
        background: #6200ee;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <h1>Azzar AI Chat Widget</h1>
    <div class="lang-switcher">
      <span>Switch language:</span>
      <button class="lang-btn" id="lang-en">English</button>
      <button class="lang-btn" id="lang-id">Bahasa Indonesia</button>
    </div>
    <div class="container">
      <h2>How to Install</h2>
      <p>Add the following script to your website:</p>
      <pre><code>&lt;script src="${baseUrl}/widget.js"&gt;&lt;/script&gt;</code></pre>
    </div>
    <div class="container">
      <h2>Features</h2>
      <ul>
        <li>Automatically adapts to your website's color scheme</li>
        <li>Responsive design that works on all devices</li>
        <li>Persists conversation history in local storage</li>
        <li>Simple integration with just one line of code</li>
        <li>Welcome message is generated by AI and adapts to your website's language</li>
      </ul>
    </div>
    <div class="container">
      <h2>API Endpoint</h2>
      <p>For custom integrations, you can use the API endpoint directly:</p>
      <code>POST ${baseUrl}/api/chat</code>
      <p>Request body:</p>
      <pre><code>{
    "message": "User message here",
    "history": [
      {"role": "user", "content": "Previous user message"},
      {"role": "assistant", "content": "Previous AI response"}
    ]
  }</code></pre>
    </div>
    <footer>
      <p>Created by <a href="https://azzar.netlify.app/porto" target="_blank">Azzar</a></p>
    </footer>
    <script src="${baseUrl}/widget.js"></script>
    <script>
      // Language switcher logic with postMessage to iframe
      function setActiveLangBtn(lang) {
        document.getElementById('lang-en').classList.toggle('active', lang === 'en');
        document.getElementById('lang-id').classList.toggle('active', lang === 'id');
      }
      function postLangToIframe(lang) {
        var iframe = document.querySelector('.azzar-chat-iframe');
        if (iframe && iframe.contentWindow) {
          iframe.contentWindow.postMessage({ azzarSetLang: lang }, '*');
        }
      }
      document.getElementById('lang-en').addEventListener('click', function() {
        postLangToIframe('en');
        setActiveLangBtn('en');
      });
      document.getElementById('lang-id').addEventListener('click', function() {
        postLangToIframe('id');
        setActiveLangBtn('id');
      });
      // Set initial active button
      setActiveLangBtn('en');
    </script>
  </body>
  </html>`;
  }